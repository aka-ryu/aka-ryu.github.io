---
layout: post
title: AWS - EC2 공용? 사설? IP 차이
categories: AWS
---

# EC2 - 공용 IP랑 사설 IP 차이 정리

## ✅ 요약 정리표

| 항목        | 공용 IP                  | 사설 IP                             |
| --------- | ---------------------- | --------------------------------- |
| **역할**    | 외부 인터넷이랑 통신할 때 쓰임      | 내부 VPC끼리 통신할 때만 쓰임                |
| **어디서씀**  | 브라우저 접속, 외부 curl 같은거   | DB 연결, 내부 서버 간 통신                 |
| **예시 주소** | `13.124.23.10` (공인 IP) | `10.0.0.12`, `172.31.0.5` (사설 IP) |
| **바뀜 여부** | 재부팅하면 바뀜 (탄력 IP면 고정됨)  | 재부팅해도 고정됨                         |
| **요금**    | 탄력 IP 연결 안 돼 있으면 요금 발생 | 과금 없음                             |

---

## 🔷 공용 IP (Public IP)

> 인터넷이랑 왔다 갔다 할 때 쓰는 주소

* 외부에서 EC2 접속하려면 이 주소 써야 함
* EC2 처음 만들면 임시로 하나 붙여주는데, 재부팅하면 바뀜
* 고정하려면 **탄력 IP** 따로 할당해야 함

### 예시

```bash
ssh ec2-user@13.124.23.10
curl http://13.124.23.10
```

---

## 🔷 사설 IP (Private IP)

> 내부 VPC 안에서만 쓰는 주소

* 외부에서는 이 주소로 절대 접속 못 함
* DB 연결, 다른 EC2랑 통신 이런 데 사용함
* 인스턴스에 붙으면 쭉 고정

### 예시

```bash
mysql -h 10.0.1.12 -u admin -p
```

---

## 🔁 실제 흐름 예시

```plaintext
[유저 브라우저]
      ↓
[공용 IP: 13.124.23.10] ← EC2 웹서버 → [사설 IP: 10.0.0.20] → DB 서버
```

* 유저는 공용 IP로 접속
* 웹서버는 사설 IP로 DB랑 통신

---

## 🔐 보안 관련

| 항목    | 설명                            |
| ----- | ----------------------------- |
| 공용 IP | 외부에 바로 열려 있으니까 보안 그룹 꼭 조심해야 함 |
| 사설 IP | 내부에서만 접근되니까 상대적으로 안전함         |

---

## 📌 탄력 IP (Elastic IP)

* 공용 IP를 고정하고 싶으면 이거 써야 함
* 탄력 IP는 정적 IP라서 안 바뀜
* 단, **붙여놓지 않고 놀리면 과금됨**

---

## ✅ 결론

> EC2에서 **공용 IP는 인터넷이랑 연결하려고 쓰는 거고**,
> **사설 IP는 내부 서버끼리 통신할 때 쓰는 거다.**
> 외부 접속엔 공용, 내부 연결엔 사설 쓰는 게 기본!

---
