---
layout: post
title: MONGO - MONGO vs RDS 성능비교
category: MONGO
---

--------------------

# MongoDB vs RDS 성능 비교

MongoDB는 비정규화된 문서(document) 기반으로 데이터를 저장하는 반면, RDS는 정규화된 테이블 구조와 트랜잭션 무결성을 중심으로 데이터를 관리하는 관계형 데이터베이스이다.

두 시스템은 설계 철학이 다르기 때문에, 특정 상황에서는 MongoDB가, 다른 상황에서는 RDS가 더 적합하다. 이 글에서는 실무에서 자주 마주치는 **단건 처리 / 대량 처리 / 병렬 요청 처리** 상황에서 MongoDB와 RDS의 성능을 비교해보았다.

---

## ✅ 성능 비교표

| 항목                   | MongoDB             | RDS (PostgreSQL/MySQL) | 설명                                         |
| -------------------- | ------------------- | ---------------------- | ------------------------------------------ |
| **단건 조회 (PK 기준)**    | ⚡ 매우 빠름             | ⚡ 매우 빠름                | 둘 다 인덱스 기반 PK 조회는 빠르다                      |
| **단건 수정/삭제**         | ⚡ 빠름                | 보통\~빠름                 | Mongo는 트랜잭션 오버헤드가 없다                       |
| **단건 insert**        | ⚡ 빠름                | 보통                     | Mongo는 document 단위 write에 최적화됨             |
| **JOIN 기반 조회**       | ❌ 느림 또는 없음          | ✅ 강점                   | Mongo의 `$lookup`은 비효율적, RDS는 JOIN 최적화가 성숙함 |
| **중첩된 구조 조회**        | ✅ 자연스러움             | ❌ 불편                   | Mongo는 embedded 문서를 그대로 읽을 수 있음            |
| **대량 insert (1만건)**  | ⚡ 매우 빠름             | 보통                     | Mongo의 `insertMany`는 매우 효율적                |
| **대량 update/delete** | ⚡ 빠름 (`updateMany`) | 보통                     | Mongo는 조건 일치 시 병렬 처리 가능                    |
| **병렬 요청 처리 (수천 건)**  | ⚡ 빠름                | 보통\~빠름                 | Mongo는 connection pool 및 응답 속도 우수          |
| **커넥션 풀 성능**         | ✅ 넉넉한 연결            | ❌ 상대적 제한               | Mongo는 1,000개 이상 연결도 가능, RDS는 보통 100\~500  |
| **수만 건 동시 요청 (폭주)**  | ✅ 버팀                | ⚠️ 병목 위험               | Mongo는 scale-out 구조로 확장에 유리함               |

---

## 📌 상황별 정리

### 1. **단건 처리**

* Mongo와 RDS 모두 인덱스를 적절히 사용하면 빠르다.
* 다만 Mongo는 document 기반이라 구조가 단순하고 트랜잭션 오버헤드가 없어 약간 더 빠를 수 있다.

### 2. **대량 처리 (Insert/Update/Delete)**

* Mongo는 `bulkWrite`, `insertMany`, `deleteMany` 같은 API가 강력하다.
* RDS는 트랜잭션, 인덱스, 외래키(FK) 처리로 인해 상대적으로 느릴 수 있다.

### 3. **병렬 요청 처리**

* Mongo는 비동기 처리 및 connection pool 관리가 뛰어나 고속 병렬 처리가 유리하다.
* RDS는 `max_connections` 제한(보통 100\~500) 때문에 TPS가 높을수록 병목이 생길 수 있다.

### 4. **트래픽 폭주 상황**

* Mongo는 수평 확장이 용이하다 (replica set, sharding)
* RDS는 수직 확장 위주로, read replica를 쓰더라도 write에는 한계가 있다.

---

## ✅ 결론: 언제 MongoDB가 성능상 유리한가?

| 상황             | MongoDB가 유리한 이유         |
| -------------- | ----------------------- |
| 단건 또는 단순한 CRUD | document 단위 처리, 트랜잭션 없음 |
| 대량 데이터 처리      | bulk API 최적화, 빠른 쓰기 성능  |
| 병렬 요청 처리       | 넉넉한 커넥션 풀, 빠른 응답 속도     |
| 동시 사용자 수 많음    | scale-out 기반 구조, 높은 확장성 |
| 비정형/동적 구조      | 필드 추가, 구조 변경에 유연함       |

---

## ✅ 반대로, RDS가 유리한 경우는?

* 정합성이 매우 중요한 경우 (ex. 결제, 재무)
* 테이블 간 관계가 복잡하고 JOIN이 필수일 때
* 트랜잭션 단위로 정확한 롤백이 필요한 경우
* 데이터 모델이 안정적이고 자주 바뀌지 않을 때

---

MongoDB는 빠른 속도와 유연성, 확장성 면에서 강력한 무기를 갖고 있다. 반면, RDS는 정합성과 트랜잭션 안정성 면에서 여전히 우위에 있다.

따라서 어떤 DB를 사용할지는 단순히 속도만이 아니라, **업무 성격, 데이터 구조, 확장 전략에 따라 선택**해야 한다.
