---
layout: post
title: AWS - ROUTE53 TTL  
categories: AWS
---


## AWS Route 53 TTL 쉽게 이해하기

TTL(Time To Live)은 DNS 레코드가 캐시에 머무는 시간을 의미한다. 쉽게 말해, 특정 도메인의 IP를 얼마나 오래 기억할지 정하는 값이다.

---

### TTL이 어떻게 동작하나?

1. 사용자가 `example.com`에 접속하면 DNS 서버가 IP 주소를 찾아 캐시에 저장한다.
2. TTL 시간 동안은 다시 DNS 서버에 물어보지 않고 캐시된 IP를 그대로 쓴다.
3. TTL이 만료되면 다시 DNS 서버에 질의해서 최신 IP를 받아온다.

---

### TTL 설정 예시

* **60초 (1분)**
  서버 IP가 자주 바뀔 때, 빠르게 반영하고 싶을 때.
* **300초 (5분)**
  대부분의 웹사이트에서 많이 쓰는 적당한 값.
* **86400초 (24시간)**
  IP가 거의 안 변하는 서비스. DNS 쿼리 비용을 줄이고 성능도 향상됨.

---

### TTL 낮게 설정할 때

* 서버 IP가 자주 바뀌는 환경.
* Blue/Green 배포나 로드밸런서 교체 시 빠른 반영 필요.
* 장애 대응 시 트래픽을 빠르게 다른 서버로 전환할 때.

### TTL 높게 설정할 때

* 고정 IP 기반 서비스.
* DNS 서버 쿼리 부하를 줄이고 응답 속도를 높이고 싶을 때.

---

### Route 53에서 TTL 설정 예시

```plaintext
도메인: example.com
레코드 타입: A
값: 192.168.1.10
TTL: 300 (5분)
```

---

### 실제 사용 사례

1. **CDN 적용**
   CDN IP가 자주 바뀌니 TTL을 60초로 짧게.
2. **서버 마이그레이션**
   새로운 서버로 빠르게 트래픽 전환하려고 30\~60초로 임시 조정.
3. **일반 웹사이트 운영**
   300\~3600초로 안정성과 성능을 밸런스.
4. **고정 IP 서비스**
   86400초(24시간)로 설정해 부하 최소화.

---

필요하면 TTL과 레코드 타입별 전략을 정리한 표도 따로 만들어줄 수 있음.
