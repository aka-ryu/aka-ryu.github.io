---
layout: post
title: AWS - IAM Role vs Policy 
categories: AWS
---

## ✅ 해석 개념 요약

| 개념         | 설명                                           |
| ---------- | -------------------------------------------- |
| **Policy** | 어느 행동(`Action`)을 어느 자원(`Resource`)에 허용할지 정의함 |
| **Role**   | 특정 엔터티(EC2, Lambda 등)에게 임시 권한을 위임하는 정책성      |

---

## ✅ EC2 기준 시나리오

> "EC2 인스턴스에서 S3 버트의 개체를 읽고 싶다."

### 특징 상황

* EC2는 기본적으로 **아무 권한 없음**
* → S3 접근 시 "AccessDenied" 오류 발생

---

## ✅ EC2에서 S3 접근하려면?

### 1. IAM Role 생성

* 신력 주체(trust entity): EC2
* 연결할 정책: 예) `AmazonS3ReadOnlyAccess`
* 예: `EC2S3ReadRole`

### 2. IAM Role을 EC2 인스턴스에 붙이기

* 인스턴스 생성 시 Role 지정하거나
* 기존 인스턴스에 Role 연결

### 3. 정책 내용 예시

```json
{
  "Effect": "Allow",
  "Action": "s3:GetObject",
  "Resource": "arn:aws:s3:::my-bucket/*"
}
```

---

## ✅ 역할 정리표

| 개념     | 역할              | 붙이는 대상                     | 예시                            |
| ------ | --------------- | -------------------------- | ----------------------------- |
| Policy | 무엇을 할 수 있는지 정의  | User, Group, Role에 붙일 수 있음 | `AmazonEC2FullAccess`         |
| Role   | 권한을 위임하는 신분증 역할 | EC2, Lambda, 다른 사용자 등      | `EC2S3ReadRole`, `LambdaRole` |

---

## ✅ 비유로 이해하기

| 개념     | 비유                     |
| ------ | ---------------------- |
| Policy | 허가증 내용: 무엇을 할 수 있는가    |
| Role   | 임시 출입증: 누가에게 맡기는가      |
| User   | 직접 허가증 들고 다니는 사람       |
| EC2    | 출입증(Role) 받아서 권한 얻는 기계 |

---

## ✅ 종합 정리 문장

> \*\*정책(Policy)\*\*은 \*"무엇을 할 수 있는가"\*를 정의하고,
> \*\*롤(Role)\*\*은 \*"누가 그 권한을 가지게 할 수 있는가"\*를 정하는 정책성이다.

---

## ✅ 정리 단계마다 다음

```
[ EC2 인스턴스 ]
       │
       ▼
[ IAM Role: EC2S3ReadRole ]
       │
       ▼
[ Policy: AmazonS3ReadOnlyAccess ]
       │
       ▼
[ 허용된 행동: S3 개체 읽기 ]
```

---

## ✅ 보안 측면 장점

* EC2 안에 **Access Key/Secret Key를 넣지 않아도 됨**
* Role을 통해 **자동으로 임시 인증 토큰 발급**
* → 보안성과 유지 관리가 훨장 뛰어남
