---
layout: post
title: RPC vs RESTAPI
category: CS
---

# REST API vs RPC

프로젝트를 하다 보면 REST API를 쓸지, RPC(tRPC나 gRPC 같은 걸 포함해서)를 쓸지 고민하는 경우가 많다.
두 방식은 접근 방식 자체가 다르기 때문에 상황에 맞게 선택하는 게 중요하다.

---

## ✅ 핵심 차이 요약

| 항목    | REST API              | RPC (tRPC, gRPC 등)           |
| ----- | --------------------- | ---------------------------- |
| 요청 구조 | URL + HTTP 메서드        | 함수 호출 기반                     |
| 스타일   | 리소스 지향                | 동작/함수 지향                     |
| 직관성   | HTTP 표준 기반으로 직관적      | 타입스크립트 친화적                   |
| 타입 공유 | Swagger 등 수동 정의       | 자동 타입 공유 (특히 tRPC)           |
| 통신 방식 | HTTP 기반 (주로 JSON)     | HTTP 또는 바이너리(gRPC는 protobuf) |
| 도구 지원 | Postman, Swagger 등 풍부 | 일부 한정적 (직접 구축 필요)            |

---

## ✅ 예시 비교

### REST 방식 예시

```
GET /users/123
```

이렇게 API 호출하면 `id`가 123인 유저 정보를 리턴해주는 식.

---

### RPC 방식 예시 (tRPC 기준)

```ts
trpc.user.getById.query('123');
```

마치 함수를 호출하듯이 쓴다.
그리고 `input`과 `output` 타입이 모두 타입스크립트에서 자동 추론된다.

---

## ✅ REST의 장단점

### 장점

* HTTP 표준에 맞춰 설계되어 있어 도구나 문서화 툴이 풍부함 (Swagger, Postman 등)
* URL만 봐도 API 구조를 대략적으로 파악 가능
* 다양한 클라이언트(모바일, 외부 서비스)와 연동하기 쉬움

### 단점

* input/output 타입을 자동으로 공유할 수 없음
* API가 많아지면 중복되는 로직이 많아짐
* 클라이언트와 서버 간 타입 싱크가 틀어질 수 있음

---

## ✅ RPC(tRPC)의 장단점

### 장점

* 클라이언트에서 백엔드 함수를 직접 호출하는 듯한 개발 방식
* input/output 타입 자동화 → 유지보수 편함
* 프론트엔드와 백엔드가 타입 기반으로 강하게 연결됨

### 단점

* REST만큼의 표준은 아니라서 도구는 적은 편
* 백엔드가 타입스크립트 기반이 아니면 어렵다
* 문서 자동 생성이나 테스트용 API UI가 따로 없음

---

## ✅ 언제 어떤 걸 쓰면 좋을까?

| 상황                    | 추천 방식              |
| --------------------- | ------------------ |
| 타입스크립트 기반 풀스택 개발      | ✅ tRPC             |
| 다양한 언어, 외부 연동이 많은 API | ✅ REST API         |
| 마이크로서비스 간 내부 통신       | ✅ gRPC (속도와 효율 우선) |
| 빠른 개발, 타입 공유가 중요한 팀   | ✅ tRPC             |
| 오픈 API 형태의 외부 제공용 서버  | ✅ REST API         |

---

## ✅ 결론

REST는 리소스 중심이고, HTTP 표준을 기반으로 익숙하다.
RPC는 함수 호출에 가까운 방식으로, 타입스크립트 프로젝트에서 개발 속도나 안정성을 크게 올릴 수 있다.

각 방식은 목적에 따라 다르게 사용하면 된다.
**모든 프로젝트에 RPC가 답이 아니고, 모든 외부 API가 REST일 필요도 없다.**

---