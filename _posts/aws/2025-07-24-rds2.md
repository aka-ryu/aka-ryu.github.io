---
layout: post
title: AWS - RDS 읽기전용, 다중AZ
categories: AWS
---

# RDS 읽기 전용(Read Replica)과 다중 AZ(Multi-AZ)

---

## ✅ RDS 읽기 전용 (Read Replica)

### 📌 개념

> 원본 DB(마스터)의 데이터를 비동기적으로 복제해서
> 읽기만 가능한 DB 인스턴스를 만드는 기능이다.

### 🔍 용도

* 읽기 트래픽이 많을 때, 원본 DB 부하를 줄이기 위해 사용했다
* 리포트, 대시보드, 검색 같은 **읽기 전용 기능**을 분리해서 운영하고 싶을 때도 유용했다

### 🔧 특징

* 비동기 복제 → \*\*약간의 지연(Lag)\*\*이 생길 수 있다
* 쓰기는 못 하고, **SELECT만 가능**하다
* **최대 15개까지 생성 가능** (엔진에 따라 다름)
* 필요하면 **Read Replica를 다시 Promote해서 새로운 마스터로 만들 수도 있다**

### 💡 예시 구조

```
클라이언트 요청
   |
   +---> 원본 RDS (쓰기 + 읽기)
   |
   +---> Read Replica 1 (읽기 전용)
   |
   +---> Read Replica 2 (읽기 전용)
```

---

## ✅ RDS 다중 AZ 배포 (Multi-AZ Deployment)

### 📌 개념

> RDS 인스턴스를 **다른 가용영역(AZ)에 자동으로 복제**해서
> \*\*장애 복구(Failover)\*\*가 자동으로 일어나도록 만든 구조다.

### 🔍 용도

* 고가용성이 중요한 서비스 (예: 실시간 결제, 주문 시스템)
* 인스턴스 장애, AZ 장애 시 **자동으로 Failover**가 되도록 하기 위해

### 🔧 특징

* **복제 인스턴스는 "대기 상태"이고 외부에서 접근 불가능**하다
* 쓰기/읽기 모두 **마스터 인스턴스에서만 처리**됨
* 마스터 장애 시 자동으로 standby 인스턴스로 전환됨 (DNS 자동 스위칭)
* **지연이 거의 없다 (동기 복제)**

### 💡 예시 구조

```
클라이언트 요청
   |
   +---> RDS (마스터: us-east-1a)
               ↘
                 Standby RDS (us-east-1b, 자동 복제 & 장애 시 승격)
```

---

## 🆚 Read Replica vs Multi-AZ 차이 요약

| 항목       | Read Replica           | Multi-AZ 배포            |
| -------- | ---------------------- | ---------------------- |
| 목적       | 읽기 부하 분산               | 고가용성 / 장애 복구           |
| 복제 방식    | 비동기 복제 (delay 있을 수 있음) | 동기 복제 (실시간 반영)         |
| Failover | 수동 (Promote 해야 함)      | 자동 (장애 발생 시 DNS 전환)    |
| 읽기 접근    | ✅ 가능 (읽기 전용)           | ❌ 불가 (Standby는 접근 안 됨) |
| 쓰기       | ❌ 안 됨                  | ✅ 마스터만 가능              |
| 가용성 보장   | ❌ 안 됨                  | ✅ 보장됨                  |
| 사용 예시    | 대시보드, 검색 서버            | 실시간 서비스, DB 장애 대비      |

---

## 🔥 정리

* **읽기 전용(Read Replica)**:
  👉 읽기 부하 많을 때 복제본을 만들어 분산 처리
  👉 장애 대비 목적은 아님 (지연 있음)

* **다중 AZ(Multi-AZ)**:
  👉 장애 났을 때 자동으로 전환해서 서비스 중단 방지
  👉 읽기 분산은 안 됨 (오직 마스터만 접근 가능)
